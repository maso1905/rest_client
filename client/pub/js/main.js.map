{"version":3,"sources":["js/main.js"],"names":["courseEl","document","getElementById","addCoursebtn","nameInput","codeInput","progInput","syllabusInput","window","addEventListener","getCourses","addCourse","innerHTML","fetch","then","response","json","data","forEach","course","code","name","prog","syllabus","id","deleteCourse","method","error","console","log","value","body","JSON","stringify"],"mappings":"AAAA,a,CAEA;;AACA,IAAIA,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAf;AACA,IAAIC,YAAY,GAAGF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAnB;AACA,IAAIE,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAhB;AACA,IAAIG,SAAS,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAhB;AACA,IAAII,SAAS,GAAGL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAhB;AACA,IAAIK,aAAa,GAAGN,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAApB,C,CAEA;;AACAM,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgCC,UAAU,EAA1C;AACAP,YAAY,CAACM,gBAAb,CAA8B,OAA9B,EAAuCE,SAAvC,E,CAEA;;AACA,SAASD,UAAT,GAAsB;AAClBV,EAAAA,QAAQ,CAACY,SAAT,GAAqB,EAArB;AACAC,EAAAA,KAAK,CAAC,wEAAD,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADd,EAECF,IAFD,CAEM,UAAAG,IAAI,EAAI;AACVA,IAAAA,IAAI,CAACC,OAAL,CAAa,UAAAC,MAAM,EAAI;AACnBnB,MAAAA,QAAQ,CAACY,SAAT,gJAIuBO,MAAM,CAACC,IAJ9B,oDAKsBD,MAAM,CAACE,IAL7B,oDAMsBF,MAAM,CAACG,IAN7B,8DAO+BH,MAAM,CAACI,QAPtC,iHASkCJ,MAAM,CAACK,EATzC,uCASsEL,MAAM,CAACK,EAT7E;AAcH,KAfD;AAgBH,GAnBD;AAoBH,C,CAED;;;AACA,SAASC,YAAT,CAAsBD,EAAtB,EAAyB;AACrBX,EAAAA,KAAK,CAAC,+EAA+EW,EAAhF,EAAoF;AACrFE,IAAAA,MAAM,EAAE;AAD6E,GAApF,CAAL,CAGCZ,IAHD,CAGM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAHd,EAICF,IAJD,CAIM,UAAAG,IAAI,EAAI;AACVP,IAAAA,UAAU;AACb,GAND,WAOO,UAAAiB,KAAK,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACH,GATD;AAUH,C,CAED;;;AACA,SAAShB,SAAT,GAAqB;AACjB,MAAIU,IAAI,GAAGjB,SAAS,CAAC0B,KAArB;AACA,MAAIV,IAAI,GAAGf,SAAS,CAACyB,KAArB;AACA,MAAIR,IAAI,GAAGhB,SAAS,CAACwB,KAArB;AACA,MAAIP,QAAQ,GAAGhB,aAAa,CAACuB,KAA7B;AACA,MAAIX,MAAM,GAAG;AAAC,YAAQE,IAAT;AAAe,YAAQD,IAAvB;AAA6B,YAAQE,IAArC;AAA2C,gBAAYC;AAAvD,GAAb;AAEAV,EAAAA,KAAK,CAAC,wEAAD,EAA2E;AAC5Ea,IAAAA,MAAM,EAAE,MADoE;AAE5EK,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,MAAf;AAFsE,GAA3E,CAAL,CAICL,IAJD,CAIM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAJd,EAKCF,IALD,CAKM,UAAAG,IAAI,EAAI;AACVP,IAAAA,UAAU;AACb,GAPD,WAQO,UAAAiB,KAAK,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAvB;AACH,GAVD;AAYH","file":"main.js","sourcesContent":["\"use strict\"\r\n\r\n// Variables\r\nlet courseEl = document.getElementById(\"courses\");\r\nlet addCoursebtn = document.getElementById(\"addCourse\");\r\nlet nameInput = document.getElementById(\"name\");\r\nlet codeInput = document.getElementById(\"code\");\r\nlet progInput = document.getElementById(\"prog\");\r\nlet syllabusInput = document.getElementById(\"syllabus\");\r\n\r\n// Event listener\r\nwindow.addEventListener('load', getCourses());\r\naddCoursebtn.addEventListener('click', addCourse);\r\n\r\n// Functions\r\nfunction getCourses() {\r\n    courseEl.innerHTML = '';\r\n    fetch('http://studenter.miun.se/~maso1905/dt173g/rest/miun_courses/course.php')\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        data.forEach(course => {\r\n            courseEl.innerHTML +=\r\n                `<div class=\"course\">              \r\n                    <table>\r\n                        <tr>\r\n                            <td> ${course.code}</td>\r\n                            <td>${course.name}</td>\r\n                            <td>${course.prog}</td>\r\n                            <td><a href=\"${course.syllabus}\">LÃ¤nk</a></td>\r\n                            <br>\r\n                            <td><button id=\"${course.id}\" onClick=\"deleteCourse(${course.id})\">x</button></td>\r\n                        </tr>\r\n                    </table>  \r\n                </div>\r\n                `\r\n        })\r\n    })\r\n}\r\n\r\n// Delete course function\r\nfunction deleteCourse(id){\r\n    fetch('http://studenter.miun.se/~maso1905/dt173g/rest/miun_courses/course.php?id=' + id, {\r\n        method: 'DELETE',\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        getCourses();\r\n    })\r\n    .catch(error => {\r\n        console.log('Error: ', error);\r\n    })\r\n}\r\n\r\n// Add course function\r\nfunction addCourse() {\r\n    let name = nameInput.value;\r\n    let code = codeInput.value;\r\n    let prog = progInput.value;\r\n    let syllabus = syllabusInput.value;\r\n    let course = {'name': name, 'code': code, 'prog': prog, 'syllabus': syllabus};\r\n\r\n    fetch('http://studenter.miun.se/~maso1905/dt173g/rest/miun_courses/course.php', {\r\n        method: 'POST',\r\n        body: JSON.stringify(course),\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        getCourses();\r\n    })\r\n    .catch(error => {\r\n        console.log('Error: ', error);\r\n    })\r\n\r\n}"]}